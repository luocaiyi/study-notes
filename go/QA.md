# Q A

## why go

- 其他编程语言的弊端:

  - 硬件发展速度远远超过软件。
  - C 语言等原生语言缺乏好的依赖管理 (依赖头文件）。
  - Java 和 C++ 等语言过于笨重。
  - 系统语言对垃圾回收和并行计算等基础功能缺乏支持。
  - 对多核计算机缺乏支持。

- Go 语言是一个可以<u>编译高效</u>，<u>支持高并发的</u>，<u>面向垃圾回收</u>的全新语言。

  - 秒级完成大型程序的单节点编译。
  - 依赖管理清晰。
  - 不支持继承，程序员无需花费精力定义不同类型之间的关系。
  - 支持垃圾回收，支持并发执行，支持多线程通讯。
  - 对多核计算机支持友好。

## Go 语言不支持的特性

- 不支持函数重载和操作符重载
- 为了避免在 C/C++ 开发中的一些 Bug 和混乱，不支持隐式转换
- 支持接口抽象，不支持继承
- 不支持动态加载代码
- 不支持动态链接库
- 通过 `recover` 和 `panic` 来替代异常机制
- 不支持断言
- 不支持静态变量

## 线程和协程的差异

- 每个 goroutine (协程) 默认占用内存远比 Java 、C 的线程少
  - goroutine：2KB
  - 线程：8MB
- 线程/goroutine 切换开销方面，goroutine 远比线程小
  - 线程：涉及模式切换(从用户态切换到内核态)、16个寄存器、PC、SP...等寄存器的刷新
  - goroutine：只有三个寄存器的值修改 - PC / SP / DX.
- GOMAXPROCS
  - 控制并行线程数量

